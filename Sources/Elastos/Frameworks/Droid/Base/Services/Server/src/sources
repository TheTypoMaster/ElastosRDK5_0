TARGET_NAME= Elastos.Droid.Server
TARGET_TYPE= eco

EXPORT_ALL_SYMBOLS=1

IMPORTS += Elastos.CoreLibrary.eco
IMPORTS += Elastos.Droid.System.eco

#VPATH := $(MAKEDIR)/../core/os:$(MAKEDIR)/../core/ext:$(MAKEDIR)/../core/view:$(MAKEDIR)/../core/view/animation:$(MAKEDIR)/../core/location:$(MAKEDIR)/../core/net:$(MAKEDIR)/../core/content:$(MAKEDIR)/../core/content/cm:$(MAKEDIR)/../core/app:$(MAKEDIR)/../core/capsule:$(MAKEDIR)/../core/utils:$(MAKEDIR)/../core/location:$(MAKEDIR)/../core/text:$(MAKEDIR)/../core/provider:$(MAKEDIR)/../core/graphics

VPATH := $(MAKEDIR)/../../../Core/src:$(MAKEDIR)/../../../Core/src/app:$(MAKEDIR)/../../../Core/src/app/backup:$(MAKEDIR)/../../../Core/src/content:$(MAKEDIR)/../../../Core/src/content/pm:$(MAKEDIR)/../../../Core/src/net:$(MAKEDIR)/../../../Core/src/os:$(MAKEDIR)/../../../Core/src/util:$(MAKEDIR)/../../../Core/src/view:$(MAKEDIR)/../../../Core/src/provider:$(MAKEDIR)/../../../Core/src/text:$(MAKEDIR)/../../../Core/src/database:$(MAKEDIR)/../../../Core/src/database/sqlite:$(MAKEDIR)/../../../Core/src/net/ethernet:$(MAKEDIR)/../../../Core/src/net/wifi:$(MAKEDIR)/../../../Core/src/net/pppoe:$(MAKEDIR)/../../../Core/src/view/animation:$(MAKEDIR)/../../../Core/src/text/format:$(MAKEDIR)/../../../Core/src/widget

include $(MAKEDIR)/../../../../sources.inc

INCLUDES += $(MAKEDIR)/../inc
INCLUDES += $(MAKEDIR)/../inc/am
INCLUDES += $(MAKEDIR)/../inc/connectivity
INCLUDES += $(MAKEDIR)/../inc/display
INCLUDES += $(MAKEDIR)/../inc/input
INCLUDES += $(MAKEDIR)/../inc/location
INCLUDES += $(MAKEDIR)/../inc/net
INCLUDES += $(MAKEDIR)/../inc/pm
INCLUDES += $(MAKEDIR)/../inc/usb
INCLUDES += $(MAKEDIR)/../inc/wm
INCLUDES += $(MAKEDIR)/../inc/accessibility
INCLUDES += $(MAKEDIR)/../inc/accounts
INCLUDES += $(MAKEDIR)/../inc/power
INCLUDES += $(MAKEDIR)/../inc/dreams
INCLUDES += $(MAKEDIR)/../inc/search
INCLUDES += $(MAKEDIR)/../../../Core/inc
INCLUDES += $(PREBUILD_INC)/skia/utils
INCLUDES += $(PREBUILD_INC)/skia/core
INCLUDES += $(PREBUILD_INC)/gui
INCLUDES += $(PREBUILD_INC)/ui
INCLUDES += $(PREBUILD_INC)/hardware

#INCLUDES += $(MAKEDIR)/../../inc/core
#INCLUDES += $(MAKEDIR)/../../inc/core/app
#INCLUDES += $(MAKEDIR)/../../inc/core/capsule
#INCLUDES += $(MAKEDIR)/../../inc/core/content
#INCLUDES += $(MAKEDIR)/../../inc/core/content/cm
#INCLUDES += $(MAKEDIR)/../../inc/core/provider
#INCLUDES += $(MAKEDIR)/../../inc/core/ext
#INCLUDES += $(MAKEDIR)/../../inc/core/net
#INCLUDES += $(MAKEDIR)/../../inc/core/utils
#INCLUDES += $(MAKEDIR)/../../inc/core/xg
#INCLUDES += $(MAKEDIR)/../../inc/core/xmlparser
#INCLUDES += $(MAKEDIR)/../../inc/core/os
#INCLUDES += $(MAKEDIR)/../../inc/core/graphics
#INCLUDES += $(MAKEDIR)/../../inc/core/graphics/drawable
#INCLUDES += $(MAKEDIR)/../../inc/core/graphics/drawable/shapes
#INCLUDES += $(MAKEDIR)/../../inc/core/view
#INCLUDES += $(MAKEDIR)/../../inc/core/view/inputmethod
#INCLUDES += $(MAKEDIR)/../../inc/core/view/animation
#INCLUDES += $(MAKEDIR)/../../inc/core/view/menu
#INCLUDES += $(MAKEDIR)/../../inc/core/impl
#INCLUDES += $(MAKEDIR)/../../inc/core/widget
#INCLUDES += $(MAKEDIR)/../../inc/core/text
#INCLUDES += $(MAKEDIR)/../../inc/core/database
#INCLUDES += $(MAKEDIR)/../../inc/core/statusbar
#INCLUDES += $(MAKEDIR)/../../inc/core/location
#INCLUDES += $(MAKEDIR)/../../inc/core/systemui/
#INCLUDES += $(MAKEDIR)/../../inc/core/systemui/statusbar
#INCLUDES += $(MAKEDIR)/../../inc/services
#INCLUDES += $(MAKEDIR)/../../inc/services/server/location
#INCLUDES += $(MAKEDIR)/../../inc/services/server/usb
#INCLUDES += $(MAKEDIR)/../../inc/services/server/connectivity
#ifeq "$(XDK_TARGET_PLATFORM)" "linux"
#INCLUDES += $(PREBUILD_INC)/skia/utils
#INCLUDES += $(PREBUILD_INC)/skia/core
#endif

C_DEFINES += -DDROID_SERVER

CAR_FLAGS += -n -u
LUBE_FLAGS += -n -u

SOURCES = Elastos.Droid.Server.car
SOURCES += CAlarmManagerService.cpp
SOURCES += AttributeCache.cpp
SOURCES += CBootReceiver.cpp
SOURCES += CBrickReceiver.cpp
SOURCES += CMasterClearReceiver.cpp
SOURCES += CaptivePortalTracker.cpp
SOURCES += NetworkUtils.cpp
SOURCES += CNetworkPolicyListener.cpp
SOURCES += CDataActivityObserver.cpp
SOURCES += CConnectivityService.cpp
SOURCES += CSerialService.cpp
SOURCES += ServiceWatcher.cpp
SOURCES += CDiskStatsService.cpp
SOURCES += CUpdateLockService.cpp
SOURCES += CSamplingProfilerService.cpp
SOURCES += LightsService.cpp
SOURCES += CCountryDetectorService.cpp
SOURCES += CEthernetService.cpp
SOURCES += CLocationManagerService.cpp
SOURCES += NetworkTimeUpdateService.cpp
SOURCES += CNotificationManagerService.cpp
SOURCES += CCommonTimeManagementService.cpp
SOURCES += CClipboardService.cpp
SOURCES += FloatMath.cpp
SOURCES += TwilightCalculator.cpp
SOURCES += CVibratorService.cpp
SOURCES += TwilightService.cpp
SOURCES += CRecognitionManagerService.cpp
SOURCES += CTextServicesManagerService.cpp
SOURCES += CStatusBarManagerService.cpp
SOURCES += CDeviceStorageMonitorService.cpp
SOURCES += CUiModeManagerService.cpp
SOURCES += CBatteryService.cpp
SOURCES += CDropBoxManagerService.cpp
SOURCES += CNsdService.cpp
SOURCES += CThrottleService.cpp
SOURCES += CWallpaperManagerService.cpp
SOURCES += CWMSWallpaperConnection.cpp
SOURCES += CWMSUserSwitchObserver.cpp
SOURCES += CInputMethodManagerService.cpp
SOURCES += CInputMethodManagerServiceMethodCallback.cpp
SOURCES += CInputMethodManagerServiceUserSwitchObserver.cpp
SOURCES += NativeDaemonConnector.cpp
SOURCES += NativeDaemonEvent.cpp
SOURCES += NetworkManagementSocketTagger.cpp
SOURCES += CNetworkManagementService.cpp
SOURCES += CMountService.cpp
SOURCES += AppWidgetServiceImpl.cpp
SOURCES += CAppWidgetService.cpp
SOURCES += CPrivacySettingsManagerService.cpp
SOURCES += CLegacyFlashlightHack.cpp
SOURCES += CSystemServer.cpp
SOURCES += CWifiService.cpp
SOURCES += invokeCallback_gnuc.S
SOURCES += PreferredComponent.cpp
SOURCES += ActivityManagerNative.cpp
SOURCES += AppGlobals.cpp
SOURCES += Binder.cpp
SOURCES += Build.cpp
SOURCES += BatteryStats.cpp
SOURCES += BatteryStatsImpl.cpp
SOURCES += FileObserver.cpp
SOURCES += FileUtils.cpp
SOURCES += IntentFilter.cpp
SOURCES += Looper.cpp
SOURCES += NativeMessageQueue.cpp
SOURCES += PackageHelper.cpp
SOURCES += PackageManager.cpp
SOURCES += PackageParser.cpp
SOURCES += PackageUserState.cpp
SOURCES += Process.cpp
SOURCES += SELinux.cpp
SOURCES += ServiceManager.cpp
SOURCES += SystemClock.cpp
SOURCES += SimpleOnGestureListener.cpp
SOURCES += SimpleOnScaleGestureListener.cpp
SOURCES += DisplayEventReceiver.cpp
SOURCES += NativeDisplayEventReceiver.cpp
SOURCES += NativeInputChannel.cpp
SOURCES += UserHandle.cpp
SOURCES += Xml.cpp
SOURCES += XmlUtils.cpp
SOURCES += R.cpp
SOURCES += Manifest.cpp
SOURCES += frameworkext.cpp
SOURCES += BroadcastReceiver.cpp
#SOURCES += Context.cpp
SOURCES += ContextWrapper.cpp
SOURCES += BackupAgent.cpp
SOURCES += BackupAgentHelper.cpp
SOURCES += TextUtils.cpp
SOURCES += MeasuredText.cpp
SOURCES += AndroidBidi.cpp
SOURCES += TextDirectionHeuristics.cpp
SOURCES += ArrayUtils.cpp
SOURCES += Int32Property.cpp
SOURCES += SparseInt32Array.cpp
SOURCES += CContentService.cpp
SOURCES += Uri.cpp
SOURCES += PackageMonitor.cpp
SOURCES += Runnable.cpp
SOURCES += ContentObserver.cpp
SOURCES += SQLiteOpenHelper.cpp
SOURCES += RegisteredServicesCache.cpp
SOURCES += Activity.cpp
SOURCES += Fragment.cpp
#SOURCES += CPppoeService.cpp
SOURCES += Animation.cpp
SOURCES += JournaledFile.cpp
SOURCES += UEventObserver.cpp
SOURCES += AsyncChannel.cpp
SOURCES += StateMachine.cpp
SOURCES += WifiStateMachine.cpp
SOURCES += WifiApConfigStore.cpp
SOURCES += WifiWatchdogStateMachine.cpp
SOURCES += WifiNative.cpp
SOURCES += DhcpInfoInternal.cpp
SOURCES += Handler.cpp
SOURCES += HandlerBase.cpp
SOURCES += SomeArgs.cpp
SOURCES += HandlerCaller.cpp
SOURCES += AsyncTask.cpp
SOURCES += SupplicantStateHelper.cpp
SOURCES += DhcpStateMachine.cpp
SOURCES += WifiMonitor.cpp
SOURCES += SupplicantStateTracker.cpp
SOURCES += WifiConfigStore.cpp
SOURCES += EthernetDataTracker.cpp
SOURCES += WifiStateTracker.cpp
SOURCES += DummyDataStateTracker.cpp
SOURCES += NetworkUpdateResult.cpp
SOURCES += CWifiDisplayManagerService.cpp
SOURCES += CDisplayManagerServiceAw.cpp
SOURCES += ShutdownActivity.cpp
SOURCES += UsbCameraDeviceManagerObserver.cpp
SOURCES += WiredAccessoryManager.cpp
SOURCES += ActivityManagerTaskThumbnails.cpp
SOURCES += TokenWatcher.cpp
SOURCES += Dialog.cpp
SOURCES += AlertDialog.cpp
SOURCES += NotificationManager.cpp
SOURCES += LayoutInflater.cpp
SOURCES += CLockSettingsService.cpp
SOURCES += BaseNetworkStateTracker.cpp
SOURCES += TimeUtils.cpp
SOURCES += Elastos.Droid.Core.cpp
SOURCES += Elastos.Droid.System.cpp
SOURCES += Elastos.CoreLibrary.cpp
SOURCES += Org.Kxml2.IO.cpp
SOURCES += FileRotator.cpp
SOURCES += InputEventReceiver.cpp
SOURCES += InputFilter.cpp
SOURCES += CDevicePolicyManagerService.cpp
SOURCES += CBackupManagerService.cpp
SOURCES += CSystemBackupAgent.cpp
SOURCES += CActiveRestoreSession.cpp
SOURCES += PackageManagerBackupAgent.cpp
SOURCES += ArrayAdapter.cpp
SOURCES += BaseAdapter.cpp
SOURCES += Filter.cpp
SOURCES += AudioDeviceManagerObserver.cpp
SOURCES += CZigbeeService.cpp
SOURCES += HandlerThread.cpp
SOURCES += CKortideRemoteService.cpp

LIBRARIES += am/am.lib
LIBRARIES += display/display.lib
LIBRARIES += input/input.lib
LIBRARIES += location/location.lib
LIBRARIES += net/net.lib
LIBRARIES += pm/pm.lib
LIBRARIES += usb/usb.lib
LIBRARIES += wm/wm.lib
LIBRARIES += connectivity/connectivity.lib
LIBRARIES += accessibility/accessibility.lib
LIBRARIES += accounts/accounts.lib
LIBRARIES += power/power.lib
LIBRARIES += dreams/dreams.lib
LIBRARIES += search/search.lib
LIBRARIES += zigbee/zigbee.lib
LIBRARIES += remote/remote.lib
LIBRARIES += $(XDK_USER_LIB)/Elastos.Runtime.lib

LIBRARIES += $(XDK_TARGETS)/Elastos.Runtime.eco
LIBRARIES += $(XDK_TARGETS)/Elastos.CoreLibrary.eco
LIBRARIES += $(XDK_TARGETS)/Elastos.Droid.Core.eco
LIBRARIES += $(XDK_USER_LIB)/crt0.lib
LIBRARIES += $(PREBUILD_LIB)/libm.a
LIBRARIES += -licuuc -llog -lbinder -lutils -lcutils -lselinux -lsurfaceflinger -lsensorservice -lgui -lskia -landroidfw -linput -lhardware -lusbhost -lsuspend -lpower -lhardware_legacy -ldl -lnetutils -lmedia

#LIBRARIES += server/server.lib
#LIBRARIES += -llog -lutils -lui -lcutils -lbinder -lhardware_legacy
